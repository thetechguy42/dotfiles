#after-startup-command = [
    # Launch SketchyBar first
#    'exec-and-forget sketchybar',
    # Then send the trigger event (optional, for workspace integration)
#    'exec-and-forget sketchybar --trigger aerospace_workspace_change'
#]

after-startup-command = [
    'exec-and-forget borders style=round active_color="gradient(top_left=0xEE33CCFF,bottom_right=0xEE00FF99)" inactive_color=0xAA595959 width=2.0 hidpi=on ax_focus=on'
]

start-at-login = false  # So it starts automatically at login

#exec-on-workspace-change = ['/bin/bash', '-c',
#    'sketchybar --trigger aerospace_workspace_change'
#]

[gaps]
#inner.horizontal = 10
#inner.vertical = 10
#outer.left = 10
#outer.bottom = 10
#outer.top = 40        # Reserve space for SketchyBar (adjust height as needed)
#outer.right = 10

[mode.main.binding]
# Workspace Navigation (Hyper+[1-9])
cmd-ctrl-alt-shift-1 = 'workspace 1'
cmd-ctrl-alt-shift-2 = 'workspace 2'
cmd-ctrl-alt-shift-3 = 'workspace 3'
cmd-ctrl-alt-shift-4 = 'workspace 4'
cmd-ctrl-alt-shift-5 = 'workspace 5'
cmd-ctrl-alt-shift-6 = 'workspace 6'
cmd-ctrl-alt-shift-7 = 'workspace 7'
cmd-ctrl-alt-shift-8 = 'workspace 8'
cmd-ctrl-alt-shift-9 = 'workspace 9'

# Enter "service mode" for moving/resizing (Hyper+S)
cmd-ctrl-alt-shift-s = 'mode service'

# Focus
cmd-ctrl-alt-shift-h = 'focus left'
cmd-ctrl-alt-shift-j = 'focus down'
cmd-ctrl-alt-shift-k = 'focus up'
cmd-ctrl-alt-shift-l = 'focus right'

# Resize (using Super+Ctrl to match COSMIC style)
cmd-ctrl-h = 'resize width -50'
cmd-ctrl-l = 'resize width +50'
cmd-ctrl-k = 'resize height -50'
cmd-ctrl-j = 'resize height +50'

# Fullscreen
cmd-ctrl-alt-shift-f = 'fullscreen'

# Close window
cmd-ctrl-alt-shift-q = 'close'

# Layout toggles
cmd-ctrl-alt-shift-v = 'layout floating tiling'
alt-comma = 'layout accordion horizontal vertical'
alt-slash = 'layout tiles horizontal vertical'

# Reload config (matches i3: Super+Shift+c)
cmd-shift-c = 'reload-config'


[[on-window-detected]]
if.app-id = 'com.apple.finder'
run = ['layout floating']

[[on-window-detected]]
if.app-name-regex-substring = 'Microsoft Teams'
run = ['move-node-to-workspace 4']

[[on-window-detected]]
if.app-id = 'com.apple.MobileSMS'
run = ['move-node-to-workspace 4']

[[on-window-detected]]
if.app-id = 'com.brave.Browser'
run = ['move-node-to-workspace 9']

[[on-window-detected]]
if.app-id = 'com.apple.safari'
run = ['move-node-to-workspace 1']

[mode.service.binding]
# Move window to workspace
1 = 'move-node-to-workspace 1'
2 = 'move-node-to-workspace 2'
3 = 'move-node-to-workspace 3'
4 = 'move-node-to-workspace 4'
5 = 'move-node-to-workspace 5'
6 = 'move-node-to-workspace 6'
7 = 'move-node-to-workspace 7'
8 = 'move-node-to-workspace 8'
9 = 'move-node-to-workspace 9'

# Exit service mode
esc = 'mode main'
enter = 'mode main'

